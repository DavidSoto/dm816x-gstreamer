diff -c -r orig/liboil-0.3.16/liboil/arm/math_vfp_asm.S liboil-0.3.16/liboil/arm/math_vfp_asm.S
*** orig/liboil-0.3.16/liboil/arm/math_vfp_asm.S	2007-11-15 20:53:47.000000000 -0600
--- liboil-0.3.16/liboil/arm/math_vfp_asm.S	2010-01-28 18:33:30.000000000 -0600
***************
*** 24,30 ****
   * SUCH DAMAGE.
   */
  
! #if __VFP_FP__
  /* 
  ** compile with -mcpu=arm1136j-s -mfpu=vfp -mfloat-abi=softfp
  **
--- 24,30 ----
   * SUCH DAMAGE.
   */
  
! #if defined(__VFP_FP__) && !defined(__SOFTFP__)
  /* 
  ** compile with -mcpu=arm1136j-s -mfpu=vfp -mfloat-abi=softfp
  **
diff -c -r orig/liboil-0.3.16/liboil/arm/math_vfp.c liboil-0.3.16/liboil/arm/math_vfp.c
*** orig/liboil-0.3.16/liboil/arm/math_vfp.c	2008-09-25 17:36:18.000000000 -0500
--- liboil-0.3.16/liboil/arm/math_vfp.c	2010-01-28 18:33:25.000000000 -0600
***************
*** 30,36 ****
  #include <liboil/liboilclasses.h>
  #include <liboil/liboilfunction.h>
  
! #if __VFP_FP__
  
  extern void vfp_add_f32 (float *d, const float *s1, const float *s2, int n);
  extern void vfp_add_f64 (double *d, const double *s1, const double *s2, int n);
--- 30,36 ----
  #include <liboil/liboilclasses.h>
  #include <liboil/liboilfunction.h>
  
! #if defined(__VFP_FP__) && !defined(__SOFTFP__)
  
  extern void vfp_add_f32 (float *d, const float *s1, const float *s2, int n);
  extern void vfp_add_f64 (double *d, const double *s1, const double *s2, int n);
